{"version":3,"sources":["pages/site-map/constant.ts","pages/site-map/index.tsx","utils/cookie.ts","utils/http.ts","utils/is-type.tsx","utils/indexdb.ts","utils/tool.ts","utils/redis.ts","service/fetch.ts","service/resource-api.ts"],"names":["LIST","title","url","CARD_WIDTH","SiteMap","useState","list","setList","width","height","cardStyle","setCardStyle","useViewport","useEffect","contentWidth","dividNum","Math","floor","extraW","arrayGroup","size","className","map","subList","site","style","key","onClick","window","open","href","target","src","alt","getCookie","cname","name","ca","document","cookie","split","i","length","c","trim","indexOf","substring","tip","msg","console","error","modalQueueMap","Map","instance","Axios","create","timeout","interceptors","request","use","config","token","headers","withCredentials","Promise","reject","response","res","status","resolve","data","resData","message","code","has","set","log","warn","delete","codeErrorHandle","other","netErrorHandle","navigator","onLine","RegExp","isNumber","value","isObject","Object","prototype","toString","call","isArray","getTransaction","db","storeName","mode","transaction","onerror","ev","openDB","dbName","version","storeOption","autoIncrement","indexedDB","event","onsuccess","result","onupgradeneeded","forEach","objectStoreNames","contains","createObjectStore","addStore","objectStore","add","updateStore","a","readStore","type","getAll","get","undefined","removeStore","getAllKeys","getDataByPage","pageNum","pageSize","allKeys","total","count","keysList","allKeysReverse","reverse","len","push","slice","currentKeys","start","min","end","max","boundKeyRange","IDBKeyRange","bound","rowData","openCursor","cursor","continue","handleJsonStr","str","json","JSON","parse","replace","stringify","isJson","e","filterObjectEmptyValue","keys","array","subGroupLength","fillItem","reslut","group","Array","fill","getRedis","Resource","redis","setRedis","val","post","existRedis","successCode","HEADER","fetchMethod","_url","_config","fetch","then","ok","Error","statusText","dataKey","directReturn","catch","err","matchUrlSearchParams","urlSearchParams","u","URLSearchParams","reduce","pre","next","includes","constructor","append","FetchApi","bodyParams","method","body","upload","isUpoad","put","patch","this","Http","cdn","HttpResource","doc","directFetch"],"mappings":"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","file":"static/js/11.33ad5ba6.chunk.js","sourcesContent":["/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2022-02-26 20:01:51\n * @Last Modified by: qiuz\n */\n\nexport const LIST = [\n  {\n    title: '图片压缩-tinify',\n    url: 'https://tinify.cn/'\n  },\n  {\n    title: 'IP查询-IP138',\n    url: 'https://www.ip138.com/'\n  },\n  {\n    title: '在线视频转换器-convertio.co',\n    url: 'https://convertio.co/zh/video-converter/'\n  },\n  {\n    title: '在线加解密-base64',\n    url: 'https://tool.chinaz.com/tools/base64.aspx'\n  },\n  {\n    title: '正则测试',\n    url: 'https://tool.oschina.net/regex/'\n  },\n  {\n    title: 'PDF转换器',\n    url: 'https://www.pdf2go.com/zh'\n  },\n  {\n    title: '正则图示化',\n    url: 'https://jex.im/regulex/#!flags=&re=%5E(a%7Cb)*%3F%24'\n  },\n  {\n    title: '代码压缩',\n    url: 'https://tool.css-js.com/'\n  },\n  {\n    title: '代码格式化',\n    url: 'https://tool.oschina.net/codeformat/js/'\n  },\n  {\n    title: 'MP4转GIF',\n    url: 'https://www.aconvert.com/cn/video/mp4-to-gif/'\n  },\n  {\n    title: '图标工厂-一键生成所有尺寸的应用图标',\n    url: 'https://icon.wuruihong.com/#/custom'\n  },\n  {\n    title: 'SVG编辑器',\n    url: 'http://www.zuohaotu.com/svg/'\n  },\n  {\n    title: 'word文档翻译',\n    url: 'https://www.onlinedoctranslator.com/zh-CN/'\n  },\n  {\n    title: 'PDF转WORD 以及更多',\n    url: 'https://www.alltoall.net/'\n  },\n  {\n    title: '在线DES加密解密',\n    url: 'http://tool.chacuo.net/cryptdes'\n  },\n  {\n    title: 'Ping检测',\n    url: 'http://mping.chinaz.com/?host=3.114.171.17'\n  },\n  {\n    title: '端口扫描',\n    url: 'http://tool.chinaz.com/port/'\n  },\n  {\n    title: 'Mac精品软件-macwk',\n    url: 'https://macwk.com/'\n  },\n  {\n    title: 'Mac精品软件-digit77',\n    url: 'https://www.digit77.com/'\n  },\n  {\n    title: 'loading图标生成-loading.io',\n    url: 'https://loading.io/'\n  },\n  {\n    title: 'less编译',\n    url: 'https://1024tools.com/less'\n  },\n  {\n    title: '阿里图标-iconfont',\n    url: 'https://www.iconfont.cn/'\n  },\n  {\n    title: '字体生成转换',\n    url: 'https://transfonter.org/'\n  },\n  {\n    title: 'Chrome inspect',\n    url: 'chrome://inspect/#devices'\n  },\n  {\n    title: '在线css转less/sass/stylus',\n    url: 'http://tools.jb51.net/code/css2less'\n  },\n  {\n    title: '文本比较',\n    url: 'https://text-compare.com/zh-hans/'\n  }\n];\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-24 18:39:02\n * @Last Modified by: qiuz\n */\n\nimport { useViewport } from 'hooks';\nimport React, { useEffect, useState } from 'react';\nimport { arrayGroup } from 'utils';\nimport { LIST } from './constant';\nimport './index.less';\n\nconst CARD_WIDTH = 153;\n\nexport default function SiteMap() {\n  const [list, setList] = useState<any[]>([]);\n  const [cardStyle, setCardStyle] = useState<{ width: number; height: number }>({\n    width: CARD_WIDTH,\n    height: CARD_WIDTH\n  });\n\n  const go = (url: string) => () => {\n    window.open(url, '_blank');\n  };\n  const { width } = useViewport();\n\n  useEffect(() => {\n    // 外层有一个30px的padding 这里需要减去才是实际展示内容宽度\n    const contentWidth = width - 60;\n    // 根据屏幕宽度等分\n    const dividNum = Math.floor(contentWidth / CARD_WIDTH);\n    // 需要加上的额外宽度，防止两侧距离不等 内容不居中\n    const extraW = Math.floor((contentWidth % CARD_WIDTH) / dividNum);\n    const list = arrayGroup(LIST, dividNum);\n    // 实际宽高\n    const size = CARD_WIDTH + extraW;\n    setList(list);\n    setCardStyle({\n      width: size,\n      height: size\n    });\n  }, [width]);\n\n  return (\n    <div className=\"site-map\">\n      {list.map((subList: any[]) => {\n        return subList.map((site: any) => {\n          return (\n            <div\n              className=\"site-map-list-btn\"\n              style={cardStyle}\n              key={site.url}\n              onClick={go(site.url)}\n            >\n              <p className=\"title\">{site.title}</p>\n              <a href={site.url} target=\"_blank\">\n                {site.url}\n              </a>\n            </div>\n          );\n        });\n      })}\n      <a\n        className=\"edit-btn\"\n        target=\"_blank\"\n        href=\"https://github.com/qiuziz/tools/edit/master/src/pages/site-map/constant.ts\"\n      >\n        <img src=\"https://gitee.com/qiuz/img/raw/master/20220227001321.png\" alt=\"新增\" />\n        新增\n      </a>\n    </div>\n  );\n}\n","function setCookie(cname: any, cvalue: any, exdays: any) {\n  var d = new Date();\n  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n  var expires = 'expires=' + d.toUTCString();\n  document.cookie = cname + '=' + cvalue + '; ' + expires;\n}\nfunction getCookie(cname: any) {\n  var name = cname + '=';\n  var ca = document.cookie.split(';');\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i].trim();\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return '';\n}\n\nfunction checkCookie(cname: any, cookie: any, exdays: number) {\n  let user = getCookie(cname);\n  if (user != '') {\n    setCookie('token', '', exdays);\n  } else {\n    setCookie('token', cookie, exdays);\n  }\n}\nexport { setCookie, getCookie, checkCookie };\n","import Axios from 'axios';\nimport { getCookie } from '../utils/cookie';\n\nconst tip = (msg: string) => {\n  console.error(msg);\n};\n\nconst modalQueueMap = new Map();\n\n//接口返回正常,状态异常\nconst codeErrorHandle = (resData: { message: any; code: number }) => {\n  let message = resData.message;\n  switch (resData.code) {\n    case 1:\n      message = message || '操作失败';\n      break;\n    case 401001:\n      message = message || 'token为空';\n      break;\n    case 401002:\n      message = message || 'token未经授权';\n      break;\n    case 401003:\n      message = message || '经纪人没有买商业套餐';\n      break;\n    case 400001:\n      message = message || 'from字段空';\n      break;\n    case 401004:\n      message = message || '对不起，您暂无查看权限。';\n      break;\n    case 401005:\n      message = message || '对不起，您无认领权限，暂时无法操作';\n      break;\n    case 500:\n      message = message || '服务异常';\n      break;\n    default:\n    //token过期\n    // case 403:\n    //   message = '登录过期, 请重新登录';\n    //   break;\n    // case 406:\n    //   message = '对不起，暂无业主房源';\n    //   break;\n    //console.log('default:', resData);\n  }\n\n  //存在对应状态码\n  if (modalQueueMap.has(resData.code)) return;\n\n  //不存在对应状态码\n  modalQueueMap.set(resData.code, {\n    code: resData.code,\n    message: message\n  });\n\n  console.log('modalQueueMap:', modalQueueMap);\n\n  if (resData.code == 406) {\n    console.warn(message);\n    //modalQueueMap.delete(resData.code);\n  } else {\n    console.error(message);\n    modalQueueMap.delete(resData.code);\n  }\n};\n\n//请求失败后的错误统一处理\nconst netErrorHandle = (status: any, other: any) => {\n  switch (status) {\n    //未登录，去登录\n    case 401:\n      // toLogin();\n      break;\n    case 403:\n      tip('登录过期, 请重新登录');\n      // setTimeout(() => {\n      //   toLogin();\n      // }, 1000);\n      break;\n    case 404:\n      tip('请求不存在!');\n      break;\n    default:\n      console.log(other);\n  }\n};\n\n//创建axios实例\nconst instance = Axios.create({ timeout: 5000 });\n\n/**\n * 请求拦截器\n * 每次请求前，如果存在token则在请求头中携带token\n */\n\ninstance.interceptors.request.use(\n  (config) => {\n    // let token = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxODg1NzM4MzMzMyJ9.GWnwqses61dKzz5KrOHApOoD0Bc4o1f6KLyGE4soj7U';//获取token\n    let token = getCookie('token');\n    token && (config.headers.token = token);\n    config.withCredentials = true;\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n/**\n * 响应拦截器\n * 拦截响应并统一处理\n */\n\ninstance.interceptors.response.use(\n  (res: any) => {\n    if (res.status && res.status == 200) {\n      return Promise.resolve(res.data);\n    } else {\n      codeErrorHandle(res.data);\n      return Promise.reject(res);\n    }\n  },\n  (error: any) => {\n    const { response } = error;\n    if (response) {\n      netErrorHandle(response.status, response.data.message);\n      return Promise.reject(response);\n    } else {\n      //断网情况处理\n      if (!window.navigator.onLine) {\n        //通知断网\n      } else {\n        return Promise.reject(error);\n      }\n    }\n  }\n);\n\nexport default instance;\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date: 2018-12-11 11:27:12\n * @Last Modified by: qiuz\n * @Last Modified time: 2021-01-19 23:29:29\n */\n\nconst pattern = {\n  // http://emailregex.com/\n  // eslint-disable-next-line no-useless-escape\n  email: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n  // eslint-disable-next-line prefer-regex-literals\n  url: new RegExp(\n    '^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\\\S+(?::\\\\S*)?@)?(?:(?:(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[0-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,})))|localhost)(?::\\\\d{2,5})?(?:(/|\\\\?|#)[^\\\\s]*)?$',\n    'i'\n  ),\n  hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i\n};\n\nexport const isNumber = (value: any) => {\n  return typeof value === 'number';\n};\n\nexport const isRegExp = (value: any) => {\n  return Object.prototype.toString.call(value) === '[object RegExp]';\n};\n\nexport const isObject = (value: any) => {\n  return Object.prototype.toString.call(value) === '[object Object]';\n};\n\nexport const isError = (value: any) => {\n  return Object.prototype.toString.call(value) === '[object Error]';\n};\n\nexport const isString = (value: any) => {\n  return typeof value === 'string';\n};\n\nexport const isFunction = (value: any) => {\n  return typeof value === 'function';\n};\n\nexport const isArray = (value: any) => {\n  return Object.prototype.toString.call(value) === '[object Array]';\n};\n\nexport const isEmptyObject = (obj: any) => {\n  if (obj === null || obj === undefined) return 'Cannot convert undefined or null to object';\n  return Object.keys(obj).length === 0;\n};\n\nexport const isBoolean = (value: any) => {\n  return (\n    value === true ||\n    value === false ||\n    (isObject(value) && Object.prototype.toString.call(value) === '[object Boolean]')\n  );\n};\n\nexport const isInteger = (value: any) => {\n  return isNumber(value) && parseInt(value, 10) === value;\n};\nexport const isFloat = (value: any) => {\n  return isNumber(value) && !isInteger(value);\n};\n\nexport const isDate = (value: any) => {\n  if (!value) return false;\n  return (\n    typeof value.getTime === 'function' &&\n    typeof value.getMonth === 'function' &&\n    typeof value.getYear === 'function'\n  );\n};\n\nexport const isEmail = (value: any) => {\n  return typeof value === 'string' && !!value.match(pattern.email) && value.length < 255;\n};\n\nexport const isUrl = (value: any) => {\n  return typeof value === 'string' && !!value.match(pattern.url);\n};\n\nexport const isHex = (value: any) => {\n  return typeof value === 'string' && !!value.match(pattern.hex);\n};\n\nexport const isPromise = (value: any) => {\n  return value && typeof value.then === 'function';\n};\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-02-05 23:39:57\n * @Last Modified by: qiuz\n */\n\nconst getTransaction = (db: IDBDatabase, storeName: string, mode?: IDBTransactionMode) => {\n  const res = db.transaction([storeName], mode);\n  res.onerror = (ev) => {\n    console.warn(ev);\n  };\n  return res;\n};\n\nexport const openDB = ({\n  dbName,\n  version = 1,\n  storeName = [''],\n  storeOption = { autoIncrement: true }\n}: {\n  dbName: string;\n  version?: number;\n  storeName?: string[];\n  storeOption?: IDBObjectStoreParameters;\n}): Promise<IDBDatabase> =>\n  new Promise((resolve, reject) => {\n    let db: IDBDatabase;\n    if (!dbName) reject('db name shoudle be string');\n\n    const request = window.indexedDB.open(dbName, version);\n\n    request.onerror = function (event) {\n      console.warn('open db fail:', event);\n      reject(event);\n    };\n\n    request.onsuccess = function (event) {\n      db = request.result;\n      resolve(db);\n    };\n\n    request.onupgradeneeded = function (event: any) {\n      db = event.target.result;\n      let objectStore;\n      storeName.forEach((name: string) => {\n        if (!db.objectStoreNames.contains(name)) {\n          objectStore = db.createObjectStore(name, storeOption);\n        }\n      });\n    };\n  });\n\nexport const addStore = ({\n  db,\n  storeName,\n  data = {}\n}: {\n  db: IDBDatabase;\n  storeName: string;\n  data: any;\n}) =>\n  new Promise((resolve, reject) => {\n    if (!db) reject('db is null');\n    if (!storeName) reject('storeName is null');\n    const request = getTransaction(db, storeName, 'readwrite').objectStore(storeName).add(data);\n\n    request.onsuccess = function (event) {\n      resolve(event);\n    };\n\n    request.onerror = function (event) {\n      console.warn('new data fail');\n      reject(event);\n    };\n  });\n\nexport const updateStore = ({\n  db,\n  storeName,\n  data = {}\n}: {\n  db: IDBDatabase;\n  storeName: string;\n  data: any;\n}) =>\n  new Promise(async (resolve, reject) => {\n    if (!db) reject('db is null');\n    if (!storeName) reject('storeName is null');\n    const res = await readStore({ db, storeName, key: data.key });\n    const request = getTransaction(db, storeName, 'readwrite')\n      .objectStore(storeName)\n      [res ? 'put' : 'add'](data);\n\n    request.onsuccess = function (event) {\n      resolve(event);\n    };\n\n    request.onerror = function (event) {\n      console.warn('update data fail');\n      reject(event);\n    };\n  });\n\nexport const readStore = ({\n  db,\n  storeName,\n  key,\n  type = 'get'\n}: {\n  db: IDBDatabase;\n  storeName: string;\n  key?: string | number;\n  type?: 'get' | 'getAll';\n}): Promise<any> =>\n  new Promise((resolve, reject) => {\n    if (!db) reject('db is null');\n    if (!storeName) reject('storeName is null');\n    const transaction = getTransaction(db, storeName);\n    const objectStore = transaction.objectStore(storeName);\n    const request =\n      type === 'getAll' ? objectStore.getAll() : objectStore.get(key as string | number);\n\n    request.onerror = function (event) {\n      console.warn('read data fail');\n      reject(event);\n    };\n\n    request.onsuccess = function (event) {\n      if (request.result) {\n        resolve(request.result);\n      } else {\n        resolve(undefined);\n      }\n    };\n  });\n\nexport const removeStore = ({\n  db,\n  storeName,\n  key\n}: {\n  db: IDBDatabase;\n  storeName: string;\n  key?: string | number;\n}): Promise<any> =>\n  new Promise((resolve, reject) => {\n    if (!db) reject('db is null');\n    if (!storeName) reject('storeName is null');\n    const transaction = getTransaction(db, storeName, 'readwrite');\n    const objectStore = transaction.objectStore(storeName);\n    const request = objectStore.delete(key as string | number);\n\n    request.onsuccess = function (event) {\n      resolve(event);\n    };\n    request.onerror = function (event) {\n      console.warn('remove data fail');\n      reject(event);\n    };\n  });\n\nexport const getAllKeys = ({\n  db,\n  storeName\n}: {\n  db: IDBDatabase;\n  storeName: string;\n}): Promise<any> =>\n  new Promise((resolve, reject) => {\n    if (!db) reject('db is null');\n    if (!storeName) reject('storeName is null');\n    const transaction = getTransaction(db, storeName);\n    const objectStore = transaction.objectStore(storeName);\n    const request = objectStore.getAllKeys();\n\n    request.onsuccess = function (event) {\n      resolve(request.result);\n    };\n    request.onerror = function (event) {\n      console.warn('get all keys fail');\n      reject(event);\n    };\n  });\n\nexport type PageData = {\n  code: number;\n  total: number;\n  data: any[];\n};\n\nexport const getDataByPage = ({\n  db,\n  storeName,\n  pageNum,\n  pageSize = 10\n}: {\n  db: IDBDatabase;\n  storeName: string;\n  pageNum: number;\n  pageSize?: number;\n}): Promise<PageData> =>\n  new Promise(async (resolve, reject) => {\n    if (!db) reject('db is null');\n    if (!storeName) reject('storeName is null');\n    const allKeys: any[] = await getAllKeys({ db, storeName });\n    if (allKeys.length < 1) {\n      resolve({ code: 0, data: [], total: 0 });\n      return;\n    }\n    const transaction = getTransaction(db, storeName, 'readonly');\n    const objectStore = transaction.objectStore(storeName);\n    const count = pageSize || 10;\n    let keysList = [];\n    const allKeysReverse = allKeys.reverse();\n    for (let i = 0, len = allKeysReverse.length; i < len; i += count) {\n      keysList.push(allKeysReverse.slice(i, i + count));\n    }\n    const currentKeys = keysList[(pageNum || 1) - 1];\n    const start = Math.min(...currentKeys);\n    const end = Math.max(...currentKeys);\n    const boundKeyRange = IDBKeyRange.bound(start, end);\n    const rowData: any[] = [];\n    const request = objectStore.openCursor(boundKeyRange);\n    request.onsuccess = function (event: any) {\n      const cursor = event.target.result;\n      if (!cursor) {\n        resolve({ code: 0, total: allKeys.length, data: rowData.reverse() });\n        return;\n      }\n      rowData.push(cursor.value);\n      cursor.continue();\n    };\n    request.onerror = function (event) {\n      console.warn('read data fail');\n      reject({ code: 1, error: event });\n    };\n  });\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-02-23 22:57:35\n * @Last Modified by: qiuz\n */\n\nimport { isObject } from './is-type';\n\n/**\n * JSON字符串格式化，若解析失败返回原数据\n * @param str\n * @returns JSON String | str\n */\nexport const handleJsonStr = (str: string) => {\n  if (!str) return str;\n  let json = null;\n  try {\n    json = JSON.parse(str.replace(/(?:\\s*['\"]*)?([a-zA-Z0-9_-]+)(?:['\"]*\\s*)?:/g, '\"$1\":'));\n  } catch (error) {\n    console.log(error);\n  }\n  return json ? JSON.stringify(json, null, 4) : str;\n};\n\nexport const isJson = (str: string) => {\n  try {\n    return isObject(JSON.parse(str));\n  } catch (e) {\n    return false;\n  }\n};\n\nconst IS_SETUPED_SCRIPT: string[] = [];\nexport const setupScript = (src: string, crossorigin = ''): Promise<void> => {\n  return new Promise((resolve, reject) => {\n    if (IS_SETUPED_SCRIPT.indexOf(src) > -1) {\n      resolve();\n      return;\n    }\n    const script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = src;\n    script.crossOrigin = crossorigin;\n    script.onerror = (err: any) => {\n      console.log(err);\n      document.body.removeChild(script);\n      reject(new URIError(`The Script ${src} is no accessible.`));\n    };\n    script.onload = () => {\n      IS_SETUPED_SCRIPT.push(src);\n      resolve();\n    };\n    document.body.appendChild(script);\n  });\n};\n\nexport const filterObjectEmptyValue = (data: object | undefined) => {\n  if (!data) return {};\n  const result = {};\n  Object.keys(data).forEach((key: string) => {\n    data[key] !== null && data[key] !== undefined && (result[key] = data[key]);\n  });\n  return result;\n};\n\n/**\n * @description 数组切割分组\n * @param array\n * @param subGroupLength\n */\n export const arrayGroup = (array: any[], subGroupLength: number, fillItem?: any): any[] => {\n  const reslut = [];\n  for (let i = 0, len = array.length; i < len; i += subGroupLength) {\n    const group = array.slice(i, i + subGroupLength);\n    if (fillItem && group.length < subGroupLength) {\n      group.push(...new Array(subGroupLength - group.length).fill(fillItem));\n    }\n    reslut.push(group);\n  }\n  return reslut;\n};\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-06-08 00:01:12\n * @Last Modified by: qiuz\n */\n\nimport { Resource } from 'service';\nimport { isArray, isObject, isString } from './is-type';\n\nexport const getRedis = async (key: string): Promise<any> => {\n  if (!key) {\n    console.error('key should be not null');\n    return Promise.reject();\n  }\n  try {\n    const res: any = await Resource.redis.get({ type: 'get', key }, {});\n    return isString(res) ? JSON.parse(res) : res;\n  } catch (error) {\n    return console.log(error);\n  }\n};\n\nexport const setRedis = async (key: string, value: any): Promise<any> => {\n  if (!key) {\n    console.error('key should be not null');\n    return Promise.reject();\n  }\n  if (!value) {\n    console.error('val should be not null');\n    return Promise.reject();\n  }\n  const val = isObject(value) || isArray(value) ? JSON.stringify(value) : value.toString();\n  try {\n    return Resource.redis.post({ type: 'set' }, { data: { key, val } });\n  } catch (error) {\n    return console.log(error);\n  }\n};\n\nexport const delRedis = async (key: string): Promise<any> => {\n  if (!key) {\n    console.error('key should be not null');\n    return Promise.reject();\n  }\n  try {\n    return Resource.redis.get({ type: 'get', key });\n  } catch (error) {\n    return console.log(error);\n  }\n};\n\nexport const existRedis = async (key: string): Promise<any> => {\n  if (!key) {\n    console.error('key should be not null');\n    return Promise.reject();\n  }\n  try {\n    return Resource.redis.get({ type: 'exists', key });\n  } catch (error) {\n    return console.log(error);\n  }\n};\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date: 2018-11-02 14:38:52\n * @Last Modified by: qiuz\n * @Last Modified time: 2022-02-26 18:00:42\n */\n\nimport 'whatwg-fetch';\nimport { filterObjectEmptyValue } from 'utils';\nimport { message as antdMsg } from 'antd';\n\nconst successCode = [0];\nconst exitFn = () => {\n  // const redirectTo = window.location.href;\n  // jump(`/admin/login?redirectTo=${encodeURIComponent(redirectTo)}`, { redirect: true });\n};\ninterface ConfigType {\n  loadingDelay?: number;\n  des?: boolean;\n  [propName: string]: any;\n}\n\nconst HEADER: any = {\n  headers: {\n    'Content-Type': 'application/json;charset=UTF-8'\n  }\n};\n\nconst fetchMethod = (_url: string, _config: any = {}) => {\n  return fetch(_url, { ...HEADER, ..._config })\n    .then((response) => {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      return response.json().then(undefined, () => Promise.resolve(''));\n    })\n    .then((res: any) => {\n      const { config = {}, code, msg } = res;\n      const { dataKey = 'data' } = config;\n      const { directReturn = false } = _config;\n      if (directReturn) {\n        return Promise.resolve(res);\n      }\n      if (code === 401) {\n        exitFn();\n        return Promise.reject(res);\n      }\n      if (successCode.indexOf(code) > -1) {\n        return Promise.resolve(res[dataKey] || {});\n      }\n      antdMsg.error(msg || '系统异常');\n      return Promise.reject(res);\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nconst matchUrlSearchParams = (url: string, urlSearchParams: any) => {\n  if (!urlSearchParams) {\n    return url.replace(/\\/:[^?]+/g, '');\n  }\n  const u = new URLSearchParams();\n  // tslint:disable-next-line:variable-name\n  let _url = Object.keys(urlSearchParams).reduce((pre, next) => {\n    if (pre.includes(':' + next)) {\n      return pre.replace(':' + next, urlSearchParams[next]);\n    } else {\n      if (urlSearchParams[next] && urlSearchParams[next].constructor === Array) {\n        urlSearchParams[next].forEach((value: any) => {\n          u.append(next, value);\n        });\n      } else {\n        u.append(next, urlSearchParams[next]);\n      }\n      return pre;\n    }\n  }, url);\n  // let u = toQueryString(urlSearchParams);\n  _url = _url.replace(/\\/:[^?]+/g, '');\n  return _url + (u.toString() === '' ? '' : '?' + u);\n};\n\nclass FetchApi {\n  url = '';\n\n  constructor(_url: string) {\n    this.url = _url;\n  }\n\n  get = (urlSearchParams: object, bodyParams?: object, config?: ConfigType) => {\n    return fetchMethod(\n      matchUrlSearchParams(this.url, { ...urlSearchParams, ...bodyParams }),\n      config\n    );\n  };\n\n  post = (urlSearchParams?: object, bodyParams?: any, config?: ConfigType) => {\n    return fetchMethod(matchUrlSearchParams(this.url, urlSearchParams), {\n      ...config,\n      method: 'POST',\n      body: JSON.stringify(filterObjectEmptyValue(bodyParams))\n    });\n  };\n\n  upload = (urlSearchParams: object, bodyParams: FormData) => {\n    return fetchMethod(matchUrlSearchParams(this.url, urlSearchParams), {\n      method: 'POST',\n      isUpoad: true,\n      body: bodyParams\n    });\n  };\n\n  delete = (urlSearchParams: object, config?: ConfigType) => {\n    return fetchMethod(matchUrlSearchParams(this.url, urlSearchParams), {\n      ...config,\n      method: 'DELETE'\n    });\n  };\n\n  put = (urlSearchParams: object, bodyParams: object, config?: ConfigType) => {\n    return fetchMethod(matchUrlSearchParams(this.url, urlSearchParams), {\n      ...config,\n      method: 'PUT',\n      body: JSON.stringify(filterObjectEmptyValue(bodyParams))\n    });\n  };\n\n  patch = (urlSearchParams: object, bodyParams: object, config?: ConfigType) => {\n    return fetchMethod(matchUrlSearchParams(this.url, urlSearchParams), {\n      ...config,\n      method: 'PATCH',\n      body: JSON.stringify(filterObjectEmptyValue(bodyParams))\n    });\n  };\n}\n\nconst Http = (url: string) => {\n  return new FetchApi(url);\n};\n\nexport default Http;\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-19 22:21:24\n * @Last Modified by: qiuz\n */\n\nimport HttpResource from './fetch';\n\nconst API_HOST = '';\n\nconst prefix = process.env.NODE_ENV === 'development' ? '' : '';\n\nexport const Resource = {\n  /**\n   * 上传\n   */\n  cdn: HttpResource(`${API_HOST}${prefix}/upload/:type`),\n  url: HttpResource(`${API_HOST}${prefix}/url/:type`),\n  /**\n   * redis\n   */\n  redis: HttpResource(`${API_HOST}${prefix}/redis/:type`),\n\n  /**\n   * doc\n   */\n  doc: HttpResource(`${API_HOST}${prefix}/:type`),\n\n  /**\n   * direct fetch\n   */\n  directFetch: HttpResource(`:type`)\n};\n"],"sourceRoot":""}